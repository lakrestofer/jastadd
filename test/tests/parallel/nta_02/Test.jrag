aspect Test {
  syn nta C B.getC() {
    return new C(getID() + fact(getNUM()));
  }

  public static long B.fact(int num) {
    return (num == 0) ? 1 : num * fact(num-1);
  }

  rewrite C {
    when (getID().startsWith("x"))
    to C {
      String newId = "r" + getID();
      return new C(newId);
    }
  }
}
